<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archive - Pigeon Post</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
    <script src="https://unpkg.com/splitting@1.0.6/dist/splitting.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.4.0/echarts.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/splitting@1.0.6/dist/splitting.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Source+Sans+Pro:wght@300;400;600&family=Courier+New&display=swap" rel="stylesheet">
    <style>
        :root {
            --sepia: #8B4513;
            --cream: #F5F5DC;
            --navy: #2F4F4F;
            --off-white: #FEFEFE;
        }
        
        body {
            font-family: 'Source Sans Pro', sans-serif;
            background-color: var(--off-white);
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(139, 69, 19, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(245, 245, 220, 0.5) 0%, transparent 50%);
        }
        
        .font-display { font-family: 'Playfair Display', serif; }
        .font-mono { font-family: 'Courier New', monospace; }
        
        .nav-link {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--sepia);
            transition: width 0.3s ease;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        .timeline-item {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -8px;
            top: 8px;
            width: 16px;
            height: 16px;
            background: var(--sepia);
            border-radius: 50%;
            border: 3px solid var(--cream);
        }
        
        .timeline-line {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, var(--sepia), var(--cream));
        }
        
        .letter-preview {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(245,245,220,0.3) 100%);
            transition: all 0.3s ease;
        }
        
        .letter-preview:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(139, 69, 19, 0.15);
        }
        
        .filter-btn {
            transition: all 0.3s ease;
        }
        
        .filter-btn.active {
            background: var(--sepia);
            color: var(--cream);
        }
        
        .reveal {
            opacity: 0;
            transform: translateY(20px);
        }
        
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
            transition: all 0.6s ease;
        }
        
        #pigeon-canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
            opacity: 0.3;
        }
        
        .search-highlight {
            background: rgba(139, 69, 19, 0.2);
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body class="min-h-screen">
    <canvas id="pigeon-canvas"></canvas>
    
    <!-- Navigation -->
    <nav class="bg-white/90 backdrop-blur-sm border-b border-sepia/20 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <div class="w-10 h-10 bg-sepia rounded-full flex items-center justify-center">
                        <span class="text-cream font-bold text-lg">üïä</span>
                    </div>
                    <h1 class="font-display text-2xl font-bold text-sepia">Pigeon Post</h1>
                </div>
                <div class="flex space-x-8">
                    <a href="index.html" class="nav-link text-sepia font-medium">Compose</a>
                    <a href="profile.html" class="nav-link text-sepia font-medium">Connections</a>
                    <a href="archive.html" class="nav-link text-sepia font-medium border-b-2 border-sepia">Archive</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Archive Header -->
    <section class="py-16 bg-gradient-to-br from-cream/30 to-sepia/10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12 reveal">
                <h2 class="font-display text-4xl font-bold text-sepia mb-4" data-splitting>Your Letter Archive</h2>
                <p class="text-lg text-navy">A complete history of your correspondence journey</p>
            </div>
            
            <!-- Search and Filters -->
            <div class="bg-white rounded-lg p-6 shadow-lg border border-sepia/10 reveal">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div class="md:col-span-2">
                        <input type="text" id="search-input" placeholder="Search letters..." 
                               class="w-full p-3 border border-sepia/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-sepia/50">
                    </div>
                    <div>
                        <select id="filter-recipient" class="w-full p-3 border border-sepia/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-sepia/50">
                            <option value="">All Recipients</option>
                            <option value="elena">Elena Rodriguez</option>
                            <option value="marcus">Marcus Chen</option>
                            <option value="sophia">Sophia Williams</option>
                            <option value="david">David Thompson</option>
                        </select>
                    </div>
                    <div>
                        <select id="filter-type" class="w-full p-3 border border-sepia/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-sepia/50">
                            <option value="">All Letters</option>
                            <option value="sent">Sent</option>
                            <option value="received">Received</option>
                            <option value="drafts">Drafts</option>
                            <option value="favorites">Favorites</option>
                        </select>
                    </div>
                </div>
                
                <div class="flex flex-wrap gap-2 mt-4">
                    <button onclick="filterByDate('week')" class="filter-btn px-4 py-2 rounded-lg border border-sepia/30 text-sepia hover:bg-sepia hover:text-cream transition-colors">
                        This Week
                    </button>
                    <button onclick="filterByDate('month')" class="filter-btn px-4 py-2 rounded-lg border border-sepia/30 text-sepia hover:bg-sepia hover:text-cream transition-colors">
                        This Month
                    </button>
                    <button onclick="filterByDate('year')" class="filter-btn px-4 py-2 rounded-lg border border-sepia/30 text-sepia hover:bg-sepia hover:text-cream transition-colors">
                        This Year
                    </button>
                    <button onclick="clearFilters()" class="filter-btn px-4 py-2 rounded-lg border border-sepia/30 text-sepia hover:bg-sepia hover:text-cream transition-colors">
                        Clear All
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Statistics Dashboard -->
    <section class="py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                <div class="bg-white rounded-lg p-6 shadow-lg border border-sepia/10 text-center reveal">
                    <div class="text-3xl mb-2">üíå</div>
                    <div class="font-display text-2xl font-bold text-sepia">47</div>
                    <div class="text-navy">Total Letters</div>
                </div>
                <div class="bg-white rounded-lg p-6 shadow-lg border border-sepia/10 text-center reveal">
                    <div class="text-3xl mb-2">üìù</div>
                    <div class="font-display text-2xl font-bold text-sepia">18,432</div>
                    <div class="text-navy">Words Written</div>
                </div>
                <div class="bg-white rounded-lg p-6 shadow-lg border border-sepia/10 text-center reveal">
                    <div class="text-3xl mb-2">‚è±Ô∏è</div>
                    <div class="font-display text-2xl font-bold text-sepia">2.3</div>
                    <div class="text-navy">Avg Response (days)</div>
                </div>
                <div class="bg-white rounded-lg p-6 shadow-lg border border-sepia/10 text-center reveal">
                    <div class="text-3xl mb-2">üéØ</div>
                    <div class="font-display text-2xl font-bold text-sepia">89%</div>
                    <div class="text-navy">Response Rate</div>
                </div>
            </div>
            
            <!-- Correspondence Chart -->
            <div class="bg-white rounded-lg p-6 shadow-lg border border-sepia/10 mb-12 reveal">
                <h3 class="font-display text-xl font-bold text-sepia mb-4">Correspondence Activity</h3>
                <div id="activity-chart" style="height: 300px;"></div>
            </div>
        </div>
    </section>

    <!-- Timeline View -->
    <section class="py-16 bg-cream/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center mb-8 reveal">
                <h3 class="font-display text-3xl font-bold text-sepia">Letter Timeline</h3>
                <div class="flex space-x-2">
                    <button onclick="toggleView('timeline')" class="bg-sepia text-cream px-4 py-2 rounded-lg">Timeline</button>
                    <button onclick="toggleView('grid')" class="border border-sepia text-sepia px-4 py-2 rounded-lg hover:bg-sepia hover:text-cream transition-colors">Grid</button>
                </div>
            </div>
            
            <div class="relative">
                <div class="timeline-line"></div>
                <div class="ml-8 space-y-8" id="timeline-container">
                    <!-- Timeline Item 1 -->
                    <div class="timeline-item letter-preview rounded-lg p-6 shadow-lg border border-sepia/10 reveal">
                        <div class="flex justify-between items-start mb-3">
                            <div>
                                <h4 class="font-display text-lg font-semibold text-sepia">Thoughts on the changing seasons</h4>
                                <p class="text-sm text-navy">To: Elena Rodriguez</p>
                            </div>
                            <div class="text-right">
                                <div class="text-sm font-mono text-navy">Dec 20, 2025</div>
                                <div class="text-xs text-green-600">Delivered</div>
                            </div>
                        </div>
                        <p class="text-navy text-sm leading-relaxed mb-3">
                            Dearest friend, as autumn paints the leaves in golden hues, I find myself reflecting on the passage of time and the beauty in each transition. Your last letter about the changing seasons in Spain reminded me of how connected we are despite the distance...
                        </p>
                        <div class="flex justify-between items-center">
                            <div class="flex space-x-2">
                                <span class="text-xs bg-cream/50 px-2 py-1 rounded">452 words</span>
                                <span class="text-xs bg-cream/50 px-2 py-1 rounded">Personal</span>
                            </div>
                            <div class="space-x-2">
                                <button onclick="readLetter('letter1')" class="text-sepia hover:underline text-sm">Read Full</button>
                                <button onclick="exportLetter('letter1')" class="text-sepia hover:underline text-sm">Export</button>
                            </div>
                        </div>
                    </div>

                    <!-- Timeline Item 2 -->
                    <div class="timeline-item letter-preview rounded-lg p-6 shadow-lg border border-sepia/10 reveal">
                        <div class="flex justify-between items-start mb-3">
                            <div>
                                <h4 class="font-display text-lg font-semibold text-sepia">Re: Travel adventures and discoveries</h4>
                                <p class="text-sm text-navy">From: Marcus Chen</p>
                            </div>
                            <div class="text-right">
                                <div class="text-sm font-mono text-navy">Dec 18, 2025</div>
                                <div class="text-xs text-blue-600">Received</div>
                            </div>
                        </div>
                        <p class="text-navy text-sm leading-relaxed mb-3">
                            My dear friend, thank you for your thoughtful response to my travel tales! I'm delighted that my adventures resonated with you. The story about the hidden caf√© in Kyoto particularly caught your imagination, and I must tell you more about the elderly owner...
                        </p>
                        <div class="flex justify-between items-center">
                            <div class="flex space-x-2">
                                <span class="text-xs bg-cream/50 px-2 py-1 rounded">687 words</span>
                                <span class="text-xs bg-cream/50 px-2 py-1 rounded">Travel</span>
                            </div>
                            <div class="space-x-2">
                                <button onclick="readLetter('letter2')" class="text-sepia hover:underline text-sm">Read Full</button>
                                <button onclick="favoriteLetter('letter2')" class="text-sepia hover:underline text-sm">Favorite</button>
                            </div>
                        </div>
                    </div>

                    <!-- Timeline Item 3 -->
                    <div class="timeline-item letter-preview rounded-lg p-6 shadow-lg border border-sepia/10 reveal">
                        <div class="flex justify-between items-start mb-3">
                            <div>
                                <h4 class="font-display text-lg font-semibold text-sepia">Book recommendations and literary discussions</h4>
                                <p class="text-sm text-navy">To: Sophia Williams</p>
                            </div>
                            <div class="text-right">
                                <div class="text-sm font-mono text-navy">Dec 15, 2025</div>
                                <div class="text-xs text-yellow-600">In Transit</div>
                            </div>
                        </div>
                        <p class="text-navy text-sm leading-relaxed mb-3">
                            Beloved friend, I recently finished reading "The Seven Husbands of Evelyn Hugo" and found myself completely absorbed in the narrative. The way the author weaves together themes of love, ambition, and the price of fame is masterful. Have you read it?
                        </p>
                        <div class="flex justify-between items-center">
                            <div class="flex space-x-2">
                                <span class="text-xs bg-cream/50 px-2 py-1 rounded">324 words</span>
                                <span class="text-xs bg-cream/50 px-2 py-1 rounded">Books</span>
                            </div>
                            <div class="space-x-2">
                                <button onclick="trackLetter('letter3')" class="text-sepia hover:underline text-sm">Track</button>
                                <button onclick="editLetter('letter3')" class="text-sepia hover:underline text-sm">Edit</button>
                            </div>
                        </div>
                    </div>

                    <!-- Timeline Item 4 -->
                    <div class="timeline-item letter-preview rounded-lg p-6 shadow-lg border border-sepia/10 reveal">
                        <div class="flex justify-between items-start mb-3">
                            <div>
                                <h4 class="font-display text-lg font-semibold text-sepia">Musical inspirations and creative process</h4>
                                <p class="text-sm text-navy">From: David Thompson</p>
                            </div>
                            <div class="text-right">
                                <div class="text-sm font-mono text-navy">Dec 12, 2025</div>
                                <div class="text-xs text-green-600">Read</div>
                            </div>
                        </div>
                        <p class="text-navy text-sm leading-relaxed mb-3">
                            Dear friend, your question about my creative process touched me deeply. Music has always been my way of processing the world, of making sense of the beauty and pain that surround us. When I wrote that piece about the Scottish highlands...
                        </p>
                        <div class="flex justify-between items-center">
                            <div class="flex space-x-2">
                                <span class="text-xs bg-cream/50 px-2 py-1 rounded">891 words</span>
                                <span class="text-xs bg-cream/50 px-2 py-1 rounded">Music</span>
                            </div>
                            <div class="space-x-2">
                                <button onclick="readLetter('letter4')" class="text-sepia hover:underline text-sm">Read Full</button>
                                <button onclick="replyToLetter('letter4')" class="text-sepia hover:underline text-sm">Reply</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Grid View (Hidden by default) -->
            <div class="hidden grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="grid-container">
                <!-- Grid items would be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Featured Letters -->
    <section class="py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12 reveal">
                <h3 class="font-display text-3xl font-bold text-sepia mb-4">Featured Letters</h3>
                <p class="text-navy text-lg">Highlighted correspondence that tells your story</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white rounded-lg p-8 shadow-lg border border-sepia/10 reveal">
                    <div class="flex items-center space-x-3 mb-4">
                        <img src="resources/user-avatar-1.png" alt="Elena" class="w-12 h-12 rounded-full object-cover">
                        <div>
                            <h4 class="font-semibold text-sepia">Elena Rodriguez</h4>
                            <p class="text-sm text-navy font-mono">October 15, 2025</p>
                        </div>
                    </div>
                    <h5 class="font-display text-xl font-semibold text-sepia mb-4">The Art of Slow Living</h5>
                    <p class="text-navy leading-relaxed mb-4">
                        "In our fast-paced world, I've discovered the profound joy of intentional slowness. Each morning begins with tea on the balcony, watching the sun paint the mountains golden. These quiet moments remind me that life's most precious gifts often come wrapped in silence..."
                    </p>
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-navy bg-cream/50 px-3 py-1 rounded">Featured</span>
                        <button onclick="readFeatured('featured1')" class="text-sepia hover:underline">Read Full Letter</button>
                    </div>
                </div>
                
                <div class="bg-white rounded-lg p-8 shadow-lg border border-sepia/10 reveal">
                    <div class="flex items-center space-x-3 mb-4">
                        <img src="resources/user-avatar-2.png" alt="Marcus" class="w-12 h-12 rounded-full object-cover">
                        <div>
                            <h4 class="font-semibold text-sepia">Marcus Chen</h4>
                            <p class="text-sm text-navy font-mono">September 28, 2025</p>
                        </div>
                    </div>
                    <h5 class="font-display text-xl font-semibold text-sepia mb-4">Finding Home in Wanderlust</h5>
                    <p class="text-navy leading-relaxed mb-4">
                        "They say home is where the heart is, but I've discovered it's more complex than that. Home is the smell of rain on dry earth, the sound of strangers speaking in familiar rhythms, the feeling of belonging that transcends geography. In my travels, I've collected moments..."
                    </p>
                    <div class="flex justify-between items-center">
                        <span class="text-sm text-navy bg-cream/50 px-3 py-1 rounded">Featured</span>
                        <button onclick="readFeatured('featured2')" class="text-sepia hover:underline">Read Full Letter</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-sepia text-cream py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="flex items-center justify-center space-x-2 mb-4">
                <span class="text-2xl">üïä</span>
                <span class="font-display text-xl font-semibold">Pigeon Post</span>
            </div>
            <p class="font-mono text-sm opacity-80">¬© 2025 Pigeon Post. Rediscovering the art of meaningful correspondence.</p>
        </div>
    </footer>

    <script src="main.js"></script>
</body>
</html>